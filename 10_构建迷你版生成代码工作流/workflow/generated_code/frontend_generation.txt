ä»¥ä¸‹æ˜¯åŸºäºæä¾›çš„APIå®šä¹‰ç”Ÿæˆçš„Vue 3å‰ç«¯ä»£ç ï¼Œä½¿ç”¨Composition APIå’ŒiView UIç»„ä»¶åº“ï¼Œç»“æ„æ¸…æ™°ï¼ŒåŒ…å«APIå°è£…ã€è·¯ç”±é…ç½®ã€çŠ¶æ€ç®¡ç†ã€ç»„ä»¶å¼€å‘å’Œæ ·å¼è®¾è®¡ã€‚

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”œâ”€â”€ services/            # APIå°è£…
â”œâ”€â”€ stores/              # PiniaçŠ¶æ€ç®¡ç†
â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
â”œâ”€â”€ App.vue
â”œâ”€â”€ main.js
â”œâ”€â”€ router.js
â”œâ”€â”€ pinia.js
```

---

## ğŸ“¦ 1. APIå°è£…ï¼ˆ`services/api.js`ï¼‰

```javascript
import axios from 'axios';

const api = axios.create({
  baseURL: '/api', // æ ¹æ®å®é™…åç«¯æ¥å£åœ°å€ä¿®æ”¹
  timeout: 5000,
});

// è¯·æ±‚æ‹¦æˆªå™¨
api.interceptors.request.use(config => {
  // å¯åœ¨æ­¤å¤„æ·»åŠ  token ç­‰è®¤è¯ä¿¡æ¯
  return config;
}, error => {
  return Promise.reject(error);
});

// å“åº”æ‹¦æˆªå™¨
api.interceptors.response.use(response => {
  if (response.data.code === 200) {
    return response.data.data;
  } else {
    // ç»Ÿä¸€é”™è¯¯å¤„ç†
    const message = response.data.message || 'æ“ä½œå¤±è´¥';
    this.$Message.error(message);
    return Promise.reject(new Error(message));
  }
}, error => {
  // ç½‘ç»œé”™è¯¯å¤„ç†
  this.$Message.error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
  return Promise.reject(error);
});

export default api;
```

---

## ğŸ§© 2. è·¯ç”±é…ç½®ï¼ˆ`router.js`ï¼‰

```javascript
import { createRouter, createWebHistory } from 'vue-router';
import UserManagement from '../views/UserManagement.vue';
import ArticleManagement from '../views/ArticleManagement.vue';
import CategoryManagement from '../views/CategoryManagement.vue';
import TagManagement from '../views/TagManagement.vue';

const routes = [
  {
    path: '/users',
    name: 'UserManagement',
    component: UserManagement,
  },
  {
    path: '/articles',
    name: 'ArticleManagement',
    component: ArticleManagement,
  },
  {
    path: '/categories',
    name: 'CategoryManagement',
    component: CategoryManagement,
  },
  {
    path: '/tags',
    name: 'TagManagement',
    component: TagManagement,
  },
];

const router = createRouter({
  history: createWebHistory(),
  routes,
});

export default router;
```

---

## ğŸ§  3. çŠ¶æ€ç®¡ç†ï¼ˆ`stores/userStore.js`ï¼‰

```javascript
import { defineStore } from 'pinia';

export const useUserStore = defineStore('user', {
  state: () => ({
    users: [],
    loading: false,
    error: null,
  }),
  actions: {
    async fetchUsers(page = 1, pageSize = 10) {
      this.loading = true;
      this.error = null;
      try {
        const response = await api.get('/users', { params: { page, pageSize } });
        this.users = response.data;
      } catch (error) {
        this.error = error.message;
      } finally {
        this.loading = false;
      }
    },
    async createUser(userData) {
      this.loading = true;
      this.error = null;
      try {
        await api.post('/users', userData);
        this.fetchUsers();
      } catch (error) {
        this.error = error.message;
      } finally {
        this.loading = false;
      }
    },
    async updateUser(id, userData) {
      this.loading = true;
      this.error = null;
      try {
        await api.put(`/users/${id}`, userData);
        this.fetchUsers();
      } catch (error) {
        this.error = error.message;
      } finally {
        this.loading = false;
      }
    },
    async deleteUser(id) {
      this.loading = true;
      this.error = null;
      try {
        await api.delete(`/users/${id}`);
        this.fetchUsers();
      } catch (error) {
        this.error = error.message;
      } finally {
        this.loading = false;
      }
    },
  },
});
```

---

## ğŸ“„ 4. ç”¨æˆ·ç®¡ç†ç»„ä»¶ï¼ˆ`views/UserManagement.vue`ï¼‰

```vue
<template>
  <div class="user-management">
    <Card title="ç”¨æˆ·ç®¡ç†">
      <Row :gutter="16">
        <Col span="6">
          <Input v-model="searchQuery" placeholder="æœç´¢ç”¨æˆ·" />
        </Col>
        <Col span="6">
          <Button type="primary" @click="showModal">æ–°å¢ç”¨æˆ·</Button>
        </Col>
      </Row>

      <Table :columns="columns" :data="users" :loading="loading" />

      <Modal
        v-model:visible="isModalVisible"
        title="ç”¨æˆ·ä¿¡æ¯"
        @ok="handleModalOk"
        @cancel="isModalVisible = false"
      >
        <Form :model="form" :rules="rules" ref="formRef">
          <Form.Item label="ç”¨æˆ·å" name="username">
            <Input v-model="form.username" />
          </Form.Item>
          <Form.Item label="é‚®ç®±" name="email">
            <Input v-model="form.email" />
          </Form.Item>
        </Form>
      </Modal>
    </Card>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { useUserStore } from '@/stores/userStore';
import { Card, Row, Col, Input, Table, Button, Modal, Form, FormItem } from 'iview';

const userStore = useUserStore();
const { users, loading, error } = userStore;
const searchQuery = ref('');
const isModalVisible = ref(false);
const form = ref({ username: '', email: '' });
const formRef = ref(null);
const rules = {
  username: [{ required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·å', trigger: 'blur' }],
  email: [{ required: true, message: 'è¯·è¾“å…¥é‚®ç®±', trigger: 'blur' }],
};

const columns = [
  { title: 'ç”¨æˆ·å', key: 'username' },
  { title: 'é‚®ç®±', key: 'email' },
  { title: 'æ“ä½œ', key: 'action', render: (h, params) => {
    return (
      <div>
        <Button type="primary" size="small" onClick={() => handleEdit(params.index)}>ç¼–è¾‘</Button>
        <Button type="error" size="small" onClick={() => handleDelete(params.index)}>åˆ é™¤</Button>
      </div>
    );
  }},
];

const showModal = () => {
  isModalVisible.value = true;
  form.value = { username: '', email: '' };
};

const handleModalOk = () => {
  formRef.value.validate(async (valid) => {
    if (valid) {
      await userStore.createUser(form.value);
      isModalVisible.value = false;
    }
  });
};

const handleEdit = (index) => {
  form.value = { ...users[index] };
  isModalVisible.value = true;
};

const handleDelete = async (index) => {
  await userStore.deleteUser(users[index].id);
};

onMounted(() => {
  userStore.fetchUsers();
});
</script>

<style scoped>
.user-management {
  padding: 20px;
}
</style>
```

---

## ğŸ“ 5. æ–‡ç« ç®¡ç†ç»„ä»¶ï¼ˆ`views/ArticleManagement.vue`ï¼‰

```vue
<template>
  <div class="article-management">
    <Card title="æ–‡ç« ç®¡ç†">
      <Row :gutter="16">
        <Col span="6">
          <Input v-model="searchQuery" placeholder="æœç´¢æ–‡ç« " />
        </Col>
        <Col span="6">
          <Button type="primary" @click="showModal">æ–°å¢æ–‡ç« </Button>
        </Col>
      </Row>

      <Table :columns="columns" :data="articles" :loading="loading" />

      <Modal
        v-model:visible="isModalVisible"
        title="æ–‡ç« ä¿¡æ¯"
        @ok="handleModalOk"
        @cancel="isModalVisible = false"
      >
        <Form :model="form" :rules="rules" ref="formRef">
          <Form.Item label="æ ‡é¢˜" name="title">
            <Input v-model="form.title" />
          </Form.Item>
          <Form.Item label="å†…å®¹" name="content">
            <Input v-model="form.content" type="textarea" />
          </Form.Item>
        </Form>
      </Modal>
    </Card>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { useArticleStore } from '@/stores/articleStore';
import { Card, Row, Col, Input, Table, Button, Modal, Form, FormItem } from 'iview';

const articleStore = useArticleStore();
const { articles, loading, error } = articleStore;
const searchQuery = ref('');
const isModalVisible = ref(false);
const form = ref({ title: '', content: '' });
const formRef = ref(null);
const rules = {
  title: [{ required: true, message: 'è¯·è¾“å…¥æ ‡é¢˜', trigger: 'blur' }],
  content: [{ required: true, message: 'è¯·è¾“å…¥å†…å®¹', trigger: 'blur' }],
};

const columns = [
  { title: 'æ ‡é¢˜', key: 'title' },
  { title: 'å†…å®¹', key: 'content' },
  { title: 'æ“ä½œ', key: 'action', render: (h, params) => {
    return (
      <div>
        <Button type="primary" size="small" onClick={() => handleEdit(params.index)}>ç¼–è¾‘</Button>
        <Button type="error" size="small" onClick={() => handleDelete(params.index)}>åˆ é™¤</Button>
      </div>
    );
  }},
];

const showModal = () => {
  isModalVisible.value = true;
  form.value = { title: '', content: '' };
};

const handleModalOk = () => {
  formRef.value.validate(async (valid) => {
    if (valid) {
      await articleStore.createArticle(form.value);
      isModalVisible.value = false;
    }
  });
};

const handleEdit = (index) => {
  form.value = { ...articles[index] };
  isModalVisible.value = true;
};

const handleDelete = async (index) => {
  await articleStore.deleteArticle(articles[index].id);
};

onMounted(() => {
  articleStore.fetchArticles();
});
</script>

<style scoped>
.article-management {
  padding: 20px;
}
</style>
```

---

## ğŸ“¦ 6. å…¶ä»–ç»„ä»¶ï¼ˆåˆ†ç±»ã€æ ‡ç­¾ç­‰ï¼‰

å…¶ä»–ç»„ä»¶ï¼ˆå¦‚åˆ†ç±»ã€æ ‡ç­¾ç®¡ç†ï¼‰å¯æŒ‰ç…§ç±»ä¼¼ç»“æ„å¼€å‘ï¼Œä½¿ç”¨Piniaç®¡ç†çŠ¶æ€ï¼ŒiViewç»„ä»¶åº“å®ç°UIï¼Œå°è£…å¯¹åº”çš„APIè¯·æ±‚ã€‚

---

## ğŸ§ª 7. é”™è¯¯å¤„ç†ä¸åŠ è½½çŠ¶æ€

- **åŠ è½½çŠ¶æ€**ï¼šä½¿ç”¨ `loading` å±æ€§æ§åˆ¶ç»„ä»¶åŠ è½½çŠ¶æ€ï¼Œå¦‚ `Table`ã€`Modal` ç­‰ã€‚
- **é”™è¯¯å¤„ç†**ï¼šåœ¨ `store` ä¸­ç»Ÿä¸€å¤„ç†é”™è¯¯ï¼Œä½¿ç”¨ `this.$Message.error()` æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚
- **å“åº”å¼è®¾è®¡**ï¼šä½¿ç”¨ `iView` çš„ `Row`ã€`Col` ç»„ä»¶å®ç°å“åº”å¼å¸ƒå±€ã€‚

---

## ğŸ“Œ 8. æ ·å¼è®¾è®¡ï¼ˆä½¿ç”¨iView UIï¼‰

- **è¡¨æ ¼**ï¼šä½¿ç”¨ `Table` ç»„ä»¶å±•ç¤ºæ•°æ®ï¼Œæ”¯æŒåˆ†é¡µã€ç­›é€‰ã€‚
- **è¡¨å•**ï¼šä½¿ç”¨ `Form`ã€`FormItem`ã€`Input` å®ç°è¡¨å•éªŒè¯ã€‚
- **å¼¹çª—**ï¼šä½¿ç”¨ `Modal` å®ç°æ–°å¢/ç¼–è¾‘å¼¹çª—ã€‚
- **æŒ‰é’®**ï¼šä½¿ç”¨ `Button` æ§åˆ¶æ“ä½œã€‚

---

## âœ… æ€»ç»“

- ä½¿ç”¨ **Pinia** ç®¡ç†çŠ¶æ€ï¼Œå®ç°æ•°æ®çš„é›†ä¸­ç®¡ç†ã€‚
- ä½¿ç”¨ **iView** å®ç° UIï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚
- ä½¿ç”¨ **Vue 3 Composition API** å®ç°ç»„ä»¶é€»è¾‘åˆ†ç¦»ã€‚
- å®ç° **ç”¨æˆ·ç®¡ç†**ã€**æ–‡ç« ç®¡ç†** ç­‰åŠŸèƒ½æ¨¡å—ï¼Œå¯æ‰©å±•ä¸ºå®Œæ•´ç³»ç»Ÿã€‚

å¦‚éœ€å®Œæ•´ä»£ç æˆ–æ‰©å±•åŠŸèƒ½ï¼ˆå¦‚åˆ†é¡µã€æœç´¢ã€æƒé™æ§åˆ¶ç­‰ï¼‰ï¼Œè¯·ç»§ç»­æé—®ï¼